import{c as G,r,j as n}from"./index-BcEZxziz.js";const J="_testimonialsPage_1owny_3",K="_testimonialsHeader_1owny_8",M="_testimonialsCarouselWrapper_1owny_28",Q="_testimonialsCarousel_1owny_28",U="_ltrAnim_1owny_44",V="_rtlAnim_1owny_48",Y="_testimonialCard_1owny_67",Z="_testimonialRating_1owny_86",tt="_testimonialContent_1owny_93",et="_testimonialAuthor_1owny_101",st="_authorAvatar_1owny_107",nt="_authorInfo_1owny_115",at="_star_1owny_126",lt="_filled_1owny_129",ot="_carouselNav_1owny_133",it="_navBtn_1owny_144",rt="_carouselDots_1owny_166",ct="_dot_1owny_173",mt="_active_1owny_183",ut="_loading_1owny_221",_t="_noTestimonials_1owny_221",s={testimonialsPage:J,testimonialsHeader:K,testimonialsCarouselWrapper:M,testimonialsCarousel:Q,ltrAnim:U,rtlAnim:V,testimonialCard:Y,testimonialRating:Z,testimonialContent:tt,testimonialAuthor:et,authorAvatar:st,authorInfo:nt,star:at,filled:lt,carouselNav:ot,navBtn:it,carouselDots:rt,dot:ct,active:mt,loading:ut,noTestimonials:_t},gt=f=>{const t=G.c(41),{lang:o,setLang:g}=f;let v,y;t[0]!==g?(v=()=>{const e=localStorage.getItem("siteLang");e&&["de","en"].includes(e)?g(e):g(navigator.language.startsWith("de")?"de":"en")},y=[g],t[0]=g,t[1]=v,t[2]=y):(v=t[1],y=t[2]),r.useEffect(v,y);let p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[3]=p):p=t[3];const[a,X]=r.useState(p),[z,q]=r.useState(!0),l=o==="de";let x,j;t[4]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{fetch("/api/testimonials").then(dt).then(e=>{X(e),q(!1)}).catch(()=>q(!1))},j=[],t[4]=x,t[5]=j):(x=t[4],j=t[5]),r.useEffect(x,j);const F=ht,[m,N]=r.useState(0),[i,O]=r.useState(!0),P=r.useRef(null),T=r.useRef(null);let w;t[6]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{T.current&&clearInterval(T.current),O(!1),T.current=setTimeout(()=>O(!0),3e3)},t[6]=w):w=t[6];const E=w;let C;t[7]!==a.length?(C=()=>{N(e=>(e+1)%a.length),E()},t[7]=a.length,t[8]=C):C=t[8];const W=C;let A;t[9]!==a.length?(A=()=>{N(e=>(e-1+a.length)%a.length),E()},t[9]=a.length,t[10]=A):A=t[10];const B=A;let $,I;t[11]!==m||t[12]!==i||t[13]!==l?(I=()=>{if(P.current&&!i){const e=-(m*382);P.current.style.transform=`translateX(${l?-e:e}px)`}},$=[m,l,i],t[11]=m,t[12]=i,t[13]=l,t[14]=$,t[15]=I):($=t[14],I=t[15]),r.useEffect(I,$);let R,S;if(t[16]!==i||t[17]!==a.length?(R=()=>{if(!i||a.length===0)return;const e=setInterval(()=>{N(c=>(c+1)%a.length)},5e3);return()=>clearInterval(e)},S=[i,a.length],t[16]=i,t[17]=a.length,t[18]=R,t[19]=S):(R=t[18],S=t[19]),r.useEffect(R,S),z){let e;return t[20]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx("div",{className:s.loading,children:"جارٍ التحميل..."}),t[20]=e):e=t[20],e}const L=`${s.testimonialsPage} ${l?s.rtl:s.ltr}`,k=l?"rtl":"ltr",D=o==="de"?"آراء عملائنا":"What Our Clients Say";let u;t[21]!==D?(u=n.jsx("h1",{children:D}),t[21]=D,t[22]=u):u=t[22];const H=o==="de"?"لقد واصلنا ابداعنا مع مجموعة من أهم رواد الأعمال فى شتى المجالات":"We’ve partnered with leading entrepreneurs across various industries.";let _;t[23]!==H?(_=n.jsx("p",{children:H}),t[23]=H,t[24]=_):_=t[24];let d;t[25]!==u||t[26]!==_?(d=n.jsxs("header",{className:s.testimonialsHeader,children:[u,_]}),t[25]=u,t[26]=_,t[27]=d):d=t[27];let h;t[28]!==m||t[29]!==W||t[30]!==B||t[31]!==i||t[32]!==l||t[33]!==o||t[34]!==a?(h=a.length>0?n.jsxs("div",{className:s.testimonialsCarouselWrapper,children:[n.jsx("div",{ref:P,className:`${s.testimonialsCarousel} ${i?l?s.rtlAnim:s.ltrAnim:""}`,style:{transition:"transform 0.5s ease-in-out"},children:[...a,...a].map((e,c)=>n.jsxs("div",{className:s.testimonialCard,children:[n.jsx("div",{className:s.testimonialRating,children:F(e.rating)}),n.jsxs("blockquote",{className:s.testimonialContent,children:['"',e.content[o],'"']}),n.jsxs("div",{className:s.testimonialAuthor,children:[n.jsx("img",{src:`https://i.pravatar.cc/150?img=${c%6+1}`,alt:e.name,className:s.authorAvatar}),n.jsxs("div",{className:s.authorInfo,children:[n.jsx("strong",{children:e.name}),n.jsxs("span",{children:[e.role[o]," ",l?"في":"at"," ",e.company]})]})]})]},c))}),n.jsxs("div",{className:s.carouselNav,children:[n.jsx("button",{onClick:B,className:`${s.navBtn} ${s.prev}`,children:l?"→":"←"}),n.jsx("button",{onClick:W,className:`${s.navBtn} ${s.next}`,children:l?"←":"→"})]}),n.jsx("div",{className:s.carouselDots,children:a.map((e,c)=>n.jsx("button",{onClick:()=>{N(c),E()},className:`${s.dot} ${c===m?s.active:""}`},c))})]}):n.jsx("p",{className:s.noTestimonials,children:o==="de"?"لا توجد آراء حالياً":"No testimonials available"}),t[28]=m,t[29]=W,t[30]=B,t[31]=i,t[32]=l,t[33]=o,t[34]=a,t[35]=h):h=t[35];let b;return t[36]!==L||t[37]!==k||t[38]!==d||t[39]!==h?(b=n.jsxs("div",{className:L,dir:k,children:[d,h]}),t[36]=L,t[37]=k,t[38]=d,t[39]=h,t[40]=b):b=t[40],b};function dt(f){return f.json()}function ht(f){return[...Array(5)].map((t,o)=>n.jsx("span",{className:`${s.star} ${o<f?s.filled:""}`,children:"★"},o))}export{gt as T};
