import{r as d,u as E,j as e}from"./index-M6BOSUVS.js";function P(){const[L,I]=d.useState(!0),x=E();d.useEffect(()=>{if(!(localStorage.getItem("adminAuth")==="true"))return x("/admin/login")},[x]);const[i,u]=d.useState("de");d.useEffect(()=>{const t=localStorage.getItem("siteLang");t&&["en","de"].includes(t)?u(t):u(navigator.language.startsWith("de")?"de":"en")},[]),d.useEffect(()=>{localStorage.setItem("siteLang",i)},[i]);const[o,y]=d.useState(()=>{const t=localStorage.getItem("adminActiveTab");return["overview","products","orders","customers","hours"].includes(t)?t:"overview"}),j=()=>{localStorage.removeItem("adminAuth"),x("/admin/login")},[v,w]=d.useState([]),[l,b]=d.useState(null),[n,c]=d.useState({title:{de:"",en:""},content:{de:"",en:""},image:"",slug:"",published:!0}),p="/api/blog";d.useEffect(()=>{g()},[]);const g=()=>{fetch(p).then(t=>t.json()).then(w).catch(t=>console.error("Error loading posts:",t))},a=(t,r,s=null)=>{c(s?{...n,[t]:{...n[t],[s]:r}}:{...n,[t]:r})},k=async t=>{t.preventDefault();const r=new FormData;r.append("title",JSON.stringify(n.title)),r.append("content",JSON.stringify(n.content)),r.append("slug",n.slug),r.append("published",n.published),h?r.append("image",h):r.append("image",n.image);try{const s=l?"PUT":"POST",A=l?`${p}/${l}`:p,f=await fetch(A,{method:s,body:r});if(!f.ok)throw new Error("ŸÅÿ¥ŸÑ ÿßŸÑÿ≠ŸÅÿ∏");const B=await f.json();alert(l?"ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´!":"ÿ™ŸÖ ÿßŸÑÿ•ÿ∂ÿßŸÅÿ©!"),m(),g()}catch(s){alert("ÿÆÿ∑ÿ£: "+s.message)}},[h,C]=d.useState(null),S=t=>{C(t.target.files[0])},T=t=>{b(t.id),c({...t})},R=async t=>{if(window.confirm("ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ÿ£ŸÜŸÉ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÇÿßŸÑÿ©ÿü"))try{(await fetch(`${p}/${t}`,{method:"DELETE"})).ok?(g(),alert("ÿ™ŸÖ ÿßŸÑÿ≠ÿ∞ŸÅ!")):alert("ŸÅÿ¥ŸÑ ÿßŸÑÿ≠ÿ∞ŸÅ")}catch{alert("ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ≠ÿ∞ŸÅ")}},m=()=>{b(null),c({title:{de:"",en:""},content:{de:"",en:""},image:"",slug:"",published:!0})};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px",backgroundColor:"#144e2aff",padding:"10px",color:"white"},children:[e.jsx("h1",{style:{fontSize:"20px"},children:i==="de"?"ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑŸÖÿ¥ÿ±ŸÅ":"Store admin panel"}),e.jsx("button",{onClick:j,style:{padding:"10px 20px",backgroundColor:"#f0f0f0ff",border:"none",borderRadius:"6px",cursor:"pointer",color:"#410000ff"},children:i==="de"?"ÿ™ÿ≥ÿ¨ÿ®ŸÑ ÿÆÿ±Ÿàÿ¨":"Log out"})]}),e.jsxs("div",{style:{display:"flex",height:"calc(100vh - 60px)",overflow:"hidden",direction:"ltr"},children:[e.jsx("nav",{style:{width:"200px",backgroundColor:"#f8f9fa",borderLeft:"1px solid #ddd",padding:"10px 0",display:"flex",flexDirection:"column",gap:"4px",flexShrink:0},className:"tabs-sidebar",children:[{key:"overview",label:"ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ",icon:"üìä"},{key:"products",label:"ÿßŸÑÿµŸÅÿ≠ÿßÿ™",icon:"üì¶"},{key:"orders",label:"ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™",icon:"üì¶"},{key:"customers",label:"ÿßŸÑÿπŸÖŸÑÿßÿ°",icon:"üë•"},{key:"hours",label:"ÿßŸÑÿßŸàŸÇÿßÿ™",icon:"‚è∞"}].map(t=>e.jsxs("button",{onClick:()=>{y(t.key),localStorage.setItem("adminActiveTab",t.key)},style:{padding:"12px 16px",backgroundColor:o===t.key?"#096332ff":"transparent",color:o===t.key?"white":"#2c3e50",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",textAlign:"right",marginRight:"10px",display:"flex",alignItems:"center",gap:"12px",transition:"background-color 0.2s"},children:[e.jsx("span",{style:{fontSize:"1.3em"},children:t.icon}),e.jsx("span",{children:t.label})]},t.key))}),e.jsxs("main",{style:{flex:1,backgroundColor:"#ffffff",overflowY:"auto"},children:[o==="overview"&&e.jsx("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:e.jsx("h2",{style:{color:"#2c3e50",marginBottom:"20px",textAlign:"left"},children:i==="de"?"üìä Store-√úbersicht":"üìä Store Overview"})}),o==="products"&&e.jsxs("div",{style:{padding:"20px",maxWidth:"1000px",margin:"0 auto",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{style:{textAlign:"center",color:"#333"},children:"ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑŸÖÿØŸàŸÜÿ©"}),e.jsxs("form",{onSubmit:k,style:{marginBottom:"40px",padding:"20px",border:"1px solid #ddd",borderRadius:"10px",backgroundColor:"#f9f9f9"},children:[e.jsx("h3",{children:l?"ÿ™ÿπÿØŸäŸÑ ŸÖŸÇÿßŸÑÿ©":"ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÇÿßŸÑÿ© ÿ¨ÿØŸäÿØÿ©"}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{children:"Slug (ŸÖÿπÿ±ŸëŸÅ URL):"}),e.jsx("input",{type:"text",value:n.slug,onChange:t=>a("slug",t.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"4px"}})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{children:"ÿßÿÆÿ™ÿ± ÿµŸàÿ±ÿ© ŸÖŸÜ ÿßŸÑÿ¨Ÿáÿßÿ≤:"}),e.jsx("input",{type:"file",accept:"image/*",onChange:S,style:{width:"100%",padding:"8px",marginTop:"4px"}}),n.image&&!h&&e.jsxs("small",{children:["ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©: ",e.jsx("a",{href:n.image,target:"_blank",rel:"noopener",children:"ÿπÿ±ÿ∂"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{children:"ÿßŸÑÿπŸÜŸàÿßŸÜ (ÿßŸÑÿπÿ±ÿ®Ÿäÿ©):"}),e.jsx("input",{type:"text",value:n.title.de,onChange:t=>a("title",t.target.value,"de"),required:!0,style:{width:"100%",padding:"8px",marginTop:"4px"}}),e.jsx("label",{style:{marginTop:"10px",display:"block"},children:"ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ (ÿßŸÑÿπÿ±ÿ®Ÿäÿ©):"}),e.jsx("textarea",{value:n.content.de,onChange:t=>a("content",t.target.value,"de"),rows:"5",style:{width:"100%",padding:"8px",marginTop:"4px"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"ÿßŸÑÿπŸÜŸàÿßŸÜ (English):"}),e.jsx("input",{type:"text",value:n.title.en,onChange:t=>a("title",t.target.value,"en"),required:!0,style:{width:"100%",padding:"8px",marginTop:"4px"}}),e.jsx("label",{style:{marginTop:"10px",display:"block"},children:"Content (English):"}),e.jsx("textarea",{value:n.content.en,onChange:t=>a("content",t.target.value,"en"),rows:"5",style:{width:"100%",padding:"8px",marginTop:"4px"}})]})]}),e.jsx("button",{type:"submit",style:{backgroundColor:"#28a745",color:"white",padding:"10px 20px",border:"none",borderRadius:"6px",cursor:"pointer",marginRight:"10px"},children:l?"ÿ™ÿ≠ÿØŸäÿ´":"ÿ•ÿ∂ÿßŸÅÿ©"}),l&&e.jsx("button",{type:"button",onClick:m,style:{backgroundColor:"#ffc107",color:"black",padding:"10px 20px",border:"none",borderRadius:"6px",cursor:"pointer"},children:"ÿ•ŸÑÿ∫ÿßÿ°"})]}),e.jsx("h2",{children:"ÿßŸÑŸÖŸÇÿßŸÑÿßÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿ©"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f1f1f1"},children:[e.jsx("th",{style:{padding:"12px",border:"1px solid #ddd"},children:"ÿßŸÑÿπŸÜŸàÿßŸÜ (AR)"}),e.jsx("th",{style:{padding:"12px",border:"1px solid #ddd"},children:"ÿßŸÑÿπŸÜŸàÿßŸÜ (EN)"}),e.jsx("th",{style:{padding:"12px",border:"1px solid #ddd"},children:"Slug"}),e.jsx("th",{style:{padding:"12px",border:"1px solid #ddd"},children:"ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™"})]})}),e.jsx("tbody",{children:v.map(t=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"12px",border:"1px solid #ddd"},children:t.title.de}),e.jsx("td",{style:{padding:"12px",border:"1px solid #ddd"},children:t.title.en}),e.jsx("td",{style:{padding:"12px",border:"1px solid #ddd"},children:t.slug}),e.jsxs("td",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:[e.jsx("button",{onClick:()=>T(t),style:{marginRight:"8px",padding:"6px 12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px"},children:"ÿ™ÿπÿØŸäŸÑ"}),e.jsx("button",{onClick:()=>R(t.id),style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px"},children:"ÿ≠ÿ∞ŸÅ"})]})]},t.id))})]})]}),o==="orders"&&e.jsx("div",{style:{backgroundColor:"white",padding:"10px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),o==="customers"&&e.jsx("div",{style:{backgroundColor:"white",padding:"10px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:e.jsx("h2",{style:{color:"#2c3e50",marginBottom:"10px"},children:i==="de"?"üë• Kundenliste":"üë• Client List"})}),o==="hours"&&e.jsx("div",{style:{backgroundColor:"white",padding:"30px"},children:e.jsx("h2",{style:{color:"#2c3e50",textAlign:"center",marginBottom:"25px",fontWeight:"bold"},children:i==="de"?"‚è∞ √ñffnungszeiten":"‚è∞ Opening Hours"})})]})]}),e.jsx("style",{jsx:!0,children:`
        @media (max-width: 768px) {
          div[style*="display: flex"] {
            flex-direction: column;
          }

          .tabs-sidebar {
            width: 100% !important;
            borderLeft: none;
            borderBottom: 1px solid #ddd;
            flexDirection: row !important;
            overflowX: auto;
            padding: 0;
            gap: 0;
          }

          .tabs-sidebar::-webkit-scrollbar {
            display: none;
          }

          .tabs-sidebar button {
            flex: 1;
            minWidth: 100px;
            padding: 12px 10px !important;
            marginRight: 0 !important;
            fontSize: 14px;
            borderRadius: 0 !important;
            display: flex;
            flexDirection: column;
            alignItems: center;
            gap: 4px;
          }
        }
      `})]})}export{P as default};
