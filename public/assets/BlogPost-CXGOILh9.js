import{b as x,r as o,j as e}from"./index-M6BOSUVS.js";import{H as p,F as h}from"./Footer-imeKDs2q.js";function v(){const{slug:a}=x(),[t,u]=o.useState(null),[f,l]=o.useState(!0),[c,d]=o.useState(""),[s,i]=o.useState("de");return o.useEffect(()=>{const n=localStorage.getItem("siteLang");n&&["en","de"].includes(n)?i(n):i(navigator.language.startsWith("de")?"de":"en")},[]),o.useEffect(()=>{localStorage.setItem("siteLang",s)},[s]),o.useEffect(()=>{(async()=>{if(!a){d("الرابط غير صحيح - لا يوجد slug"),l(!1);return}try{console.log("جارٍ جلب المقالة بالـ slug:",a);const r=await fetch(`/api/blog/${a}`);if(!r.ok)throw new Error("المقال غير موجود");const g=await r.json();console.log("البيانات المستلمة:",g),u(g)}catch(r){d(r.message),console.error("خطأ في جلب المقال:",r)}finally{l(!1)}})()},[a]),f?e.jsx("div",{children:"جاري التحميل..."}):c?e.jsxs("div",{style:{color:"red",padding:"20px"},children:["خطأ: ",c]}):t?e.jsxs("div",{className:"app",children:[e.jsx(p,{lang:s,setLang:i}),e.jsxs("article",{style:{padding:"20px",maxWidth:"900px",margin:"0 auto"},children:[e.jsx("h1",{children:t.title[s]||t.title.de}),e.jsx("img",{src:t.image,alt:t.title[s]||t.title.de,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"10px"}}),e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content[s]||t.content.de}})]}),e.jsx(h,{lang:s})]}):e.jsx("div",{children:"لا توجد بيانات"})}export{v as default};
